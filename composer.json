{
    "name": "leoloso/pop-api-wp",
    "type": "project",
    "description": "Bootstrap a PoP API for WordPress",
    "keywords": [
        "PoP",
        "WordPress",
        "bootstrap",
        "components",
        "component-driven design",
        "API"
    ],
    "homepage": "https://github.com/leoloso/pop-api-wp",
    "license": "MIT",
    "authors": [
        {
            "name": "Leonardo Losoviz",
            "email": "leo@getpop.org",
            "homepage": "https://getpop.org"
        }
    ],
    "minimum-stability": "dev",
    "prefer-stable": true,
    "repositories": [
        {
            "type": "composer",
            "url": "https://wpackagist.org"
        }
    ],
    "require": {
        "php": "~7.1",
        "getpop/engine-symfony": "dev-master",
        "getpop/engine-wp": "dev-master",
        "getpop/commentmeta-wp": "dev-master",
        "getpop/comments-wp": "dev-master",
        "getpop/pages-wp": "dev-master",
        "getpop/postmeta-wp": "dev-master",
        "getpop/posts-wp": "dev-master",
        "getpop/taxonomies-wp": "dev-master",
        "getpop/taxonomymeta-wp": "dev-master",
        "getpop/taxonomyquery-wp": "dev-master",
        "getpop/usermeta-wp": "dev-master",
        "getpop/users-wp": "dev-master",
        "johnpbloch/wordpress": ">=5.2"
    },
    "extra": {
        "wordpress-install-dir": "wp",
        "branch-alias": {
            "dev-master": "1.0-dev"
        },
        "installer-paths": {
            "wp/wp-content/mu-plugins/{$name}/": [
                "type:wordpress-muplugin"
            ],
            "wp/wp-content/plugins/{$name}/": [
                "type:wordpress-plugin"
            ],
            "wp/wp-content/themes/{$name}/": [
                "type:wordpress-theme"
            ]
        }
    },
    "config": {
        "sort-packages": true
    },
    "scripts": {
        "post-root-package-install": [
            "php -r \"function random_str(\\$length, \\$keyspace = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!#$%&()*+,-./:;<=>?@{|}~') { \\$pieces = []; \\$max = mb_strlen(\\$keyspace, '8bit') - 1; for (\\$i = 0; \\$i < \\$length; ++\\$i) { \\$pieces []= \\$keyspace[random_int(0, \\$max)]; } return implode('', \\$pieces); } \\$fp = fopen('wp-config.php', 'r'); \\$buffer = fread(\\$fp, 120000); fclose(\\$fp); \\$lines = explode('\n', \\$buffer); \\$replaceitems = [['line' => 26, 'from' => 'database_name_here', 'to' => '$DB_NAME'], ['line' => 29, 'from' => 'username_here', 'to' => '$DB_USER'], ['line' => 32, 'from' => 'password_here', 'to' => '$DB_PASSWORD']]; if ('$GENERATE_SALTS' === 'true') { for(\\$i=52;\\$i<=59;\\$i++) { \\$replaceitems[] = ['line' => \\$i, 'from' => 'put your unique phrase here', 'to' => random_str(64)]; }} foreach(\\$replaceitems as \\$replaceitem) { if (\\$replaceitem['to']) { \\$lines[\\$replaceitem['line']-1] = str_replace(\\$replaceitem['from'], \\$replaceitem['to'], \\$lines[\\$replaceitem['line']-1]); } } \\$fp = fopen('wp-config.php', 'w'); \\$buffer = implode('\n', \\$lines).'\n'; fwrite(\\$fp, \\$buffer); fclose(\\$fp);\""
        ]
    }
}
